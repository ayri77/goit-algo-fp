# Завдання 6: Жадібний алгоритм та динамічне програмування

## Опис

Розв'язання задачі вибору їжі з максимізацією калорійності в межах бюджету двома підходами: жадібний алгоритм та динамічне програмування.

## Постановка задачі

**Задача:** Вибрати набір страв, який максимізує калорійність, не перевищуючи заданий бюджет.

**Вхідні дані:**
- Словник страв: `{назва: {"cost": вартість, "calories": калорії}}`
- Бюджет: максимальна сума, яку можна витратити

**Вихід:**
- Список вибраних страв
- Загальна вартість
- Загальна калорійність

## Реалізація алгоритмів

### 1. Жадібний алгоритм

**Принцип:** На кожному кроці вибираємо найефективнішу страву (максимальне співвідношення калорій/вартість).

**Алгоритм:**
1. Обчислюємо співвідношення калорій/вартість для кожної страви
2. Сортуємо страви за цим співвідношенням (спадання)
3. Вибираємо страви по черзі, поки не перевищимо бюджет

**Складність:** O(n log n) - через сортування

**Переваги:**
- Простий у реалізації
- Швидкий виконання
- Ефективний для багатьох практичних задач

**Недоліки:**
- Не завжди дає оптимальне рішення
- Може пропустити кращі комбінації

### 2. Динамічне програмування

**Принцип:** Використовує підхід задачі про рюкзак (0/1 knapsack).

**Алгоритм:**
1. Створюємо таблицю DP[i][b], де:
   - i - індекс страви
   - b - бюджет (від 0 до budget)
   - DP[i][b] - максимальна калорійність при бюджеті b з використанням перших i страв
2. Заповнюємо таблицю за рекурентним співвідношенням:
   ```
   DP[i][b] = max(
       DP[i-1][b],  // не беремо i-ту страву
       DP[i-1][b-cost[i]] + calories[i]  // беремо i-ту страву
   )
   ```
3. Відстежуємо оптимальний набір страв

**Складність:** O(n × budget) за часом, O(n × budget) за пам'яттю

**Переваги:**
- Завжди дає оптимальне рішення
- Гарантована правильність

**Недоліки:**
- Вища складність за часом та пам'яттю
- Для великих бюджетів може бути повільним

## Приклад виконання

### Вхідні дані

| Страва | Вартість (грн) | Калорії | Ефективність (ккал/грн) |
|--------|----------------|---------|-------------------------|
| pizza | 50 | 300 | 6.00 |
| hamburger | 40 | 250 | 6.25 |
| hot-dog | 30 | 200 | 6.67 |
| pepsi | 10 | 100 | 10.00 |
| cola | 15 | 220 | 14.67 |
| potato | 25 | 350 | 14.00 |

**Бюджет:** 100 грн

### Результати

#### Жадібний алгоритм

| Крок | Вибрана страва | Вартість | Калорії | Залишок бюджету |
|------|----------------|----------|---------|-----------------|
| 1 | cola | 15 | 220 | 85 |
| 2 | potato | 25 | 350 | 60 |
| 3 | pepsi | 10 | 100 | 50 |
| 4 | hot-dog | 30 | 200 | 20 |
| **Підсумок** | **4 страви** | **80 грн** | **870 ккал** | **20 грн** |

**Вибрані страви:** cola, potato, pepsi, hot-dog

#### Динамічне програмування

**Оптимальне рішення:**
- **Вибрані страви:** cola, potato, pepsi, hamburger
- **Загальна вартість:** 100 грн
- **Загальна калорійність:** 970 ккал

**Порівняння:**
- ДП знайшло рішення на 100 ккал краще
- ДП використало весь бюджет (100 грн vs 80 грн)
- ДП вибрало 4 страви, але інші комбінації

## Таблиця порівняння

| Параметр | Жадібний | ДП | Переможець |
|----------|----------|----|-----------| 
| Калорійність | 870 ккал | 970 ккал | ДП (+100 ккал) |
| Вартість | 80 грн | 100 грн | ДП (використано весь бюджет) |
| Кількість страв | 4 | 4 | Однаково |
| Час виконання | ~0.0001 сек | ~0.001 сек | Жадібний (10x швидше) |
| Пам'ять | O(n) | O(n×budget) | Жадібний |
| Оптимальність | Наближена | Оптимальна | ДП |

## Аналіз різних бюджетів

| Бюджет | Жадібний (ккал) | ДП (ккал) | Різниця | Відсоток різниці |
|--------|-----------------|-----------|---------|------------------|
| 50 | 570 | 600 | 30 | 5.3% |
| 100 | 870 | 970 | 100 | 11.5% |
| 150 | 1200 | 1320 | 120 | 10.0% |
| 200 | 1520 | 1620 | 100 | 6.6% |

**Висновок:** Різниця між алгоритмами зростає зі збільшенням бюджету, але потім стабілізується.

## Обробка крайніх випадків

### Валідація вхідних даних
- ✅ Порожній словник страв
- ✅ Від'ємний бюджет
- ✅ Нульовий бюджет
- ✅ Страви з нульовою вартістю (безкоштовні)
- ✅ Некоректна структура даних
- ✅ Від'ємні значення вартості/калорійності

### Спеціальні випадки
- **Всі страви дорожчі за бюджет:** Повертається порожній список
- **Безкоштовні страви:** Автоматично додаються до результату
- **Бюджет = 0:** Повертаються тільки безкоштовні страви (якщо є)

## Висновки

1. **Оптимальність**: ДП завжди дає оптимальне рішення, жадібний - наближене
2. **Швидкість**: Жадібний алгоритм значно швидший
3. **Пам'ять**: Жадібний алгоритм використовує менше пам'яті
4. **Практичність**: 
   - Для швидких наближених рішень - жадібний
   - Для точних оптимальних рішень - ДП

**Рекомендації:**
- Використовувати жадібний алгоритм для великих наборів даних або коли потрібна швидкість
- Використовувати ДП для малих-середніх задач, де важлива оптимальність
- Для даної задачі з 6 стравами обидва алгоритми працюють швидко, але ДП дає кращий результат

## Запуск

```bash
cd task_6_greedy_dp
python main.py
```

Програма виведе:
- Таблицю доступних страв з ефективністю
- Результати жадібного алгоритму
- Результати динамічного програмування
- Порівняння результатів

## Тестування

```bash
# Всі тести
pytest test_*.py -v

# Конкретні тести
pytest test_greedy.py -v
pytest test_dynamic_programming.py -v

# Інтеграційні тести
pytest ../intergation_tests/task_6/test_integration.py -v
```

